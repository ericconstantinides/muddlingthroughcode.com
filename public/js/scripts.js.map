{"version":3,"sources":["scripts.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","from","currentScrollPos","undefined","window","pageYOffset","document","documentElement","body","parentNode","scrollTop","init","items","setTimeout","scrollActivation","addEventListener","concat","forEach","item","classList","contains","itemTopPos","getBoundingClientRect","top","scrollOffset","getAttribute","Number","windowOffset","w","innerHeight","targets","querySelectorAll","add","target","remove","getElementsByClassName"],"mappings":"AAAA,YAEA,SAASA,oBAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,GAAIG,GAAI,EAAGC,EAAOH,MAAMD,EAAIK,QAASF,EAAIH,EAAIK,OAAQF,IAAOC,EAAKD,GAAKH,EAAIG,EAAM,OAAOC,GAAe,MAAOH,OAAMK,KAAKN,IAwBzL,WACC,QAASO,KACP,MAA+BC,UAAvBC,OAAOC,YAA6BD,OAAOC,aAAeC,SAASC,iBAAmBD,SAASE,KAAKC,YAAcH,SAASE,MAAME,UA4C3I,QAASC,KACHC,EAAMZ,SACRI,OAAOS,WAAW,WAAA,MAAMC,GAAiBF,IAAQ,KACjDN,SAASS,iBAAiB,SAAY,WAAA,MAAMD,GAAiBF,MA7CjE,GAAIE,GAAmB,SAASF,MAC7BI,OAAAtB,mBAAIkB,IAAOK,QAAQ,SAACC,GACnB,IAAMA,EAAKC,UAAUC,SAAS,8BAAgC,CAE5D,GAAIC,GAAaH,EAAKI,wBAAwBC,IAC1CC,EAAe,CAKnB,IAJIN,EAAKO,aAAa,wBACpBD,EAAeE,OAAOR,EAAKO,aAAa,wBAGC,QAAvCP,EAAKO,aAAa,iBACpB,GAAIE,GAAe,MAEnB,IAAIA,GAAeC,EAAEC,WAEvB,KAAMX,EAAKC,UAAUC,SAAS,uCACrBF,EAAKC,UAAUC,SAAS,aAAe,CAC9C,GAAIU,GAAUxB,SAASyB,iBAAiB,gBAAkBb,EAAKO,aAAa,eAAiB,IAE7C,SAA5CP,EAAKO,aAAa,sBACfJ,GAAcG,GACjBN,EAAKC,UAAUa,IAAI,aACfF,GAASA,EAAQb,QAAQ,SAAAgB,GAAA,MAAUA,GAAOd,UAAUa,IAAI,iBAE5Dd,EAAKC,UAAUe,OAAO,aAClBJ,GAASA,EAAQb,QAAQ,SAAAgB,GAAA,MAAUA,GAAOd,UAAUe,OAAO,gBAI5DhC,IAAsBmB,EAAaM,EAAeH,GACrDN,EAAKC,UAAUa,IAAI,aACfF,GAASA,EAAQb,QAAQ,SAAAgB,GAAA,MAAUA,GAAOd,UAAUa,IAAI,iBAE5Dd,EAAKC,UAAUe,OAAO,aAClBJ,GAASA,EAAQb,QAAQ,SAAAgB,GAAA,MAAUA,GAAOd,UAAUe,OAAO,qBAevEN,EAAIxB,OACJQ,EAAQN,SAAS6B,uBAAuB,uBAC5CxB,GAAKC","file":"scripts.js","sourcesContent":["//------------------------------------------------------------------------------\n//\n//  Scroll Activation\n//\n//  Summary\n//    Scroll Activation makes a section \"active\" when it's entire container is scrolled upon\n//\n//  Usage\n//    .js-scroll-activation\n//       Add this class to the container you'd like to make active on scrolling.\n//\n//  Optional\n//    .js-scroll-activation--keep-active\n//       Keeps the section always active once activated; otherwise, the active\n//       will be removed after going back up.\n//     [data-target=\"TARGET_ID]\n//       Add to the target element and any element you'd like to set 'active'\n//     [data-page-position=\"top\"]\n//       Activates js-page-position on the top of the container instead of the bottom\n//\n//  Creates\n//    .is-active\n//       This class gets added to both the .js-scroll-activation class and the\n//       [data-target=\"TARGET_ID]\n//\n//------------------------------------------------------------------------------\n;(function() {\n  function currentScrollPos() {\n    return (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n  }\n  var scrollActivation = function(items) {\n    ;[...items].forEach((item) => {\n      if (!(item.classList.contains('js-scroll-activation--stop'))) {\n        // scrollActivationTop: where the element starts on the entire page in px.\n        var itemTopPos = item.getBoundingClientRect().top\n        var scrollOffset = 0\n        if (item.getAttribute('data-scroll-offset')) {\n          scrollOffset = Number(item.getAttribute('data-scroll-offset')) // force it to be a number\n        }\n\n        if (item.getAttribute('page-position') === 'top') {\n          var windowOffset = 0\n        } else {\n          var windowOffset = w.innerHeight\n        }\n        if (!(item.classList.contains('js-scroll-activation--keep-active')\n              && item.classList.contains('is-active'))) {\n          var targets = document.querySelectorAll('[data-target=' + item.getAttribute('data-target') + ']')\n\n          if (item.getAttribute('data-page-position') === 'top') {\n            if ( itemTopPos <= scrollOffset ) {\n              item.classList.add('is-active')\n              if (targets) targets.forEach(target => target.classList.add('is-active'))\n            } else {\n              item.classList.remove('is-active')\n              if (targets) targets.forEach(target => target.classList.remove('is-active'))\n            }\n\n          } else {\n            if ( currentScrollPos() > (itemTopPos - windowOffset - scrollOffset) ) {\n              item.classList.add('is-active')\n              if (targets) targets.forEach(target => target.classList.add('is-active'))\n            } else {\n              item.classList.remove('is-active')\n              if (targets) targets.forEach(target => target.classList.remove('is-active'))\n            }\n          }\n        }\n      }\n    })\n  }\n\n  function init() {\n    if (items.length) {\n      window.setTimeout(() => scrollActivation(items), 500)\n      document.addEventListener('scroll', ( () => scrollActivation(items)))\n    }\n  }\n\n  var w = window\n  var items = document.getElementsByClassName('js-scroll-activation')\n  init(items)\n})()"],"sourceRoot":"frontend/scripts"}